## Launch // Terminal // <> Enter ##
super + enter
    foot --working-directory=$HOME/Desktop/

## Launch // Command Launcher // <><Ctrl> Enter ##
super + control + return
    notify-send "Quick Run" "$(rofi -show run)"

## Launch // Application Launcher // <> Space ##
super + space
    rofi -show drun

## Launch // Command // <><Shift> Space ##
super + shift + space
    rofi -show run

## Launch // Keybinding Viewer // <><Shift> ? ##
super + shift + /
    rofi -modi shortcut:~/.config/rofi/scripts/shortcut.py -show shortcut

## Navigate // Window by Name // <><Ctrl> Space ##
super + control + space
    rofi -show window

## Launch // Dotfiles Editor  // <> o ##
super + o
    ~/dotfiles/scripts/dotsman/dotsman.sh edit -spawn rofi -dmenu >/dev/null # not sure why fails without redirection

## Launch // Clipboard History Viewer // <> c ##
super + c
    cliphist list | rofi -dmenu | cliphist decode | wl-copy
# future: cliphist list | sed 's/\t/ /' | walker --dmenu | sed 's/ /\t/' | cliphist decode | wl-copy

## Launch // Emoji Picker // <> ; ##
super + ;
    smile

# Use wpctl to adjust volume of WirePlumber
{XF86AudioLowerVolume, XF86AudioRaiseVolume}
    wpctl set-volume @DEFAULT_SINK@ {5%\-, 5%+ \-\-limit 1.5} && wpctl get-volume @DEFAULT_SINK@ | sed 's/[^0-9]//g' > $XDG_RUNTIME_DIR/wob.sock

control + alt + super + {x, c}
    wpctl set-volume @DEFAULT_SINK@ {5%\-, 5%+ \-\-limit 1.5} && wpctl get-volume @DEFAULT_SINK@ | sed 's/[^0-9]//g' > $XDG_RUNTIME_DIR/wob.sock

Shift + {XF86AudioLowerVolume, XF86AudioRaiseVolume}
    wpctl set-volume @DEFAULT_SOURCE@ {5%\-, 5%+ \-\-limit 1.5}

control + shift + alt + super + {x, c}
    wpctl set-volume @DEFAULT_SOURCE@ {5%\-, 5%+ \-\-limit 1.5}

{_,Shift +} @XF86AudioMute
    wpctl set-mute {@DEFAULT_SINK@, @DEFAULT_SOURCE@} toggle

control + {_, Shift +} alt + super + @z
    wpctl set-mute {@DEFAULT_SINK@, @DEFAULT_SOURCE@} toggle

{XF86MonBrightnessUp, XF86MonBrightnessDown}
    brightnessctl set {+10%, 10%\-} | sed -En 's/.*\(([0-9]+)%\).*/\1/p' > $XDG_RUNTIME_DIR/wob.sock

Shift + {XF86MonBrightnessUp, XF86MonBrightnessDown}
    # https://github.com/rockowitz/ddcutil/labels/performance
    ddcutil setvcp 10 {+, \-} 10 && ddcutil getvcp 10 -t | cut -d' ' -f4 > $XDG_RUNTIME_DIR/wob.sock

# Printscreen using flameshot
# Current workaround for https://github.com/flameshot-org/flameshot/issues/2848#issuecomment-1199796142
@Print
    grimblast --freeze copy area
    # Flameshot not working
    # flameshot gui --raw | copyq copy image/png -
Shift+@Print
    # flameshot gui
    GRIMBLAST_EDITOR='swappy -f' grimblast --freeze edit area

## Launch // Logout Menu // <><Shift><Esc> ##
super + shift + escape
    wlogout -p layer-shell

# Duplicated for use on multiple keyboards
super + escape
    @enter applications && sh -c 'echo "Launch: [b]rowser [f]iles [m]essages" > /tmp/mode && pkill -35 waybar'
super + grave
    @enter applications && sh -c 'echo "Launch: [b]rowser [f]iles [m]essages" > /tmp/mode && pkill -35 waybar'

mode applications
    ## Launch // Browser // <><Grave> b ##
    b
        @escape && gtk-launch $(xdg-settings get default-web-browser) && echo "" > /tmp/mode && pkill -35 waybar
    ## Launch // File Explorer // <><Grave> f ##
    f
        @escape && thunar && echo "" > /tmp/mode && pkill -35 waybar
    m
        @escape && telegram-desktop && echo "" > /tmp/mode && pkill -35 waybar
    j
        @escape && bash -c '(cd ~/.local/share/applications/; gtk-launch $(basename $(find ~/.local/share/applications/ -iname "*joplin*")))' && echo "" > /tmp/mode && pkill -35 waybar
    escape
        @escape && echo "" > /tmp/mode && pkill -35 waybar
endmode
