# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

# Define names for default workspaces for which we configure key bindings later on.
# We use variables to avoid repeating the names in multiple places.
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# 1. NAVIGATION BINDINGS AND CONFIGS {{{
###############################################################################
# Window and Workspace Navigation
###############################################################################

# 1.1. i3 DEFAULTS {{{
## Navigate // Relative Window // <> ↑ ↓ ← → ##  or k j h l
bindsym $mod+Left  focus left
bindsym $mod+Down  focus down
bindsym $mod+Up    focus up
bindsym $mod+Right focus right
bindsym $mod+h     focus left
bindsym $mod+j     focus down
bindsym $mod+k     focus up
bindsym $mod+l     focus right

## Navigate // Workspaces 1-10 // <> 0..9 ##
bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

## Navigate // Relative Parent // <> a ##
bindsym $mod+a focus parent

## Navigate // Relative Child // <> d ##
bindsym $mod+d focus child
# }}} 1.1. i3 DEFAULTS

# Disabled until familiar with defaults
# # Navigate // Relative Window // <> w a s d ##
# bindsym $mod+a focus left
# bindsym $mod+s focus down
# bindsym $mod+w focus up
# bindsym $mod+d focus right


# disable window focus follows mouse movements as the mouse crosses window borders
focus_follows_mouse no
# }}} 1. NAVIGATION BINDINGS AND CONFIGS

# 2. WORKSPACE BINDINGS AND CONFIGS {{{
###############################################################################
# Window and Workspace Configuration
###############################################################################

# 2.1. i3 DEFAULTS {{{
## Modify // Window Position // <><Shift> ↑ ↓ ← → ## or k j h l
bindsym $mod+Shift+Left  move left
bindsym $mod+Shift+Down  move down
bindsym $mod+Shift+Up    move up
bindsym $mod+Shift+Right move right
bindsym $mod+Shift+h     move left
bindsym $mod+Shift+j     move down
bindsym $mod+Shift+k     move up
bindsym $mod+Shift+l     move right

## Modify // Move Window to Workspace 1 - 10 // <><Shift> 0..9 ##
bindsym $mod+Shift+1 move container to workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10

## Modify // Window Layout Mode // <> t ##
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

## Modify // Window Fullscreen Toggle // <> f ##
bindsym $mod+f fullscreen toggle

## Modify // Vertical Window Orientation // <> v ##
bindsym $mod+v split v

## Modify // Horizontal Window Orientation // <> g ##
bindsym $mod+g split h

# Use Mouse+$mod to drag floating windows to their wanted position
## Modify // Move Window With Mouse // <> <Mouse> ##
floating_modifier $mod
# }}} 2.1. i3 DEFAULTS

### Modify // Toggle Window Orientation // <> Backspace ##
#set_from_resource $i3-wm.binding.orientation_toggle i3-wm.binding.orientation_toggle BackSpace
#bindsym $mod+$i3-wm.binding.orientation_toggle split toggle


## Modify // Window Floating Toggle // <><Shift> f ##
bindsym $mod+Shift+f floating toggle

## Modify // Move to Scratchpad // <><Ctrl> m ##

## Modify // Tile/Float Focus Toggle // <><Shift> t ##
bindsym $mod+Shift+t focus mode_toggle


## bindsym $mod+$i3-wm.binding.layout_mode layout toggle tabbed splith splitv


## Modify // Containing Workspace // <><Ctrl><Shift> ↑ ↓ ← → ## or k j h l
bindsym $mod+Ctrl+Shift+Left  move workspace to output left
bindsym $mod+Ctrl+Shift+Right move workspace to output right
bindsym $mod+Ctrl+Shift+Up    move workspace to output up
bindsym $mod+Ctrl+Shift+Down  move workspace to output down
bindsym $mod+Ctrl+Shift+h     move workspace to output left
bindsym $mod+Ctrl+Shift+l     move workspace to output right
bindsym $mod+Ctrl+Shift+k     move workspace to output up
bindsym $mod+Ctrl+Shift+j     move workspace to output down


## move focused container to workspace, move to workspace
### Modify // Carry Window to Workspace 1 - 10// <><Alt> 0..9 ##
#bindsym $mod+$alt+$ws1_key move container to workspace number $ws1; workspace number $ws1
#bindsym $mod+$alt+$ws2_key move container to workspace number $ws2; workspace number $ws2
#bindsym $mod+$alt+$ws3_key move container to workspace number $ws3; workspace number $ws3
#bindsym $mod+$alt+$ws4_key move container to workspace number $ws4; workspace number $ws4
#bindsym $mod+$alt+$ws5_key move container to workspace number $ws5; workspace number $ws5
#bindsym $mod+$alt+$ws6_key move container to workspace number $ws6; workspace number $ws6
#bindsym $mod+$alt+$ws7_key move container to workspace number $ws7; workspace number $ws7
#bindsym $mod+$alt+$ws8_key move container to workspace number $ws8; workspace number $ws8
#bindsym $mod+$alt+$ws9_key move container to workspace number $ws9; workspace number $ws9
#bindsym $mod+$alt+$ws10_key move container to workspace number $ws10; workspace number $ws10

# }}} 2. WORKSPACE BINDINGS AND CONFIGS

# 3. BINDINGS - SESSION MANAGEMENT {{{
###############################################################################
# Session Management
###############################################################################

## Session // Exit App // <><Shift> q ##
bindsym $mod+BackSpace kill
bindsym $mod+Shift+q kill

## Session // Reload i3 Config // <><Shift> c ##
bindsym $mod+Shift+c reload

## Session // Power Menu // <> Escape ##
bindsym $mod+shift+x exec rofi -show power-menu -modi power-menu:"$HOME/.config/rofi/power-menu" -width 20 -lines 6

## Session // Refresh Session // <><Shift> r ##
bindsym $mod+Shift+r restart

## Session // Restart i3 // <><Ctrl> r ##

## Session // Logout // <><Shift> e ##
# exit i3 (logs you out of your X session)
bindsym $mod+Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

# }}} 3. BINDINGS - SESSION MANAGEMENT

# 4. BINDINGS - LAUNCHER DIALOGS {{{
###############################################################################
# Launcher dialogs
###############################################################################

## Launch // Terminal // <> Enter ##
bindsym $mod+Return exec i3-sensible-terminal

## Launch // Browser // <><Shift> Enter ##
bindsym $mod+Shift+Return exec --no-startup-id gtk-launch $(xdg-settings get default-web-browser)

## Launch // Application // <> Space ##
bindsym $mod+space exec --no-startup-id rofi -show drun

## Launch // Command // <><Shift> Space ##

## Launch // Keybinding Viewer // <><Shift> ? ##
bindsym $mod+shift+slash exec rofi -modi shortcut:~/.config/rofi/scripts/shortcut.py -show shortcut

## Navigate // Window by Name // <><Ctrl> Space ##
bindsym $mod+Control+space exec --no-startup-id rofi -show window

## Launch // File Search // <><Alt> Space ##

## Launch // Look Selector // <><Alt> l ##

## Launch // Dotfiles Editor  // <> o ##
bindsym $mod+o exec $HOME/.config/i3/scripts/dotsmenu.sh
# }}} 4. BINDINGS - LAUNCHER DIALOGS

# 5. BINDINGS - MODES {{{
###############################################################################
# MODES - Resize mode
###############################################################################

## Resize // Enter Resize Mode // <> r ##
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    ## Resize // Resize Window // ↑ ↓ ← → ## or k j h l
    bindsym Left  resize shrink width  10 px or 10 ppt
    bindsym Down  resize grow   height 10 px or 10 ppt
    bindsym Up    resize shrink height 10 px or 10 ppt
    bindsym Right resize grow   width  10 px or 10 ppt
    bindsym h     resize shrink width  10 px or 10 ppt
    bindsym j     resize grow   height 10 px or 10 ppt
    bindsym k     resize shrink height 10 px or 10 ppt
    bindsym l     resize grow   width  10 px or 10 ppt

    ## Resize // Exit Resize Mode // Escape or Enter ##
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

# Testing mode
set $control System Control [S for shutdown, R for restart, E for logout, X for lock]:
bindsym $mod+Escape mode "$control"

mode "$control" {
    bindsym x exec notify-send aa bb
    bindsym e exec notify-send aa aa
    bindsym r exec notify-send aa d
    bindsym s exec notify-send aa 

    bindsym Escape mode "default"
}
# }}} 5. BINDINGS - MODES

# 6. BINDINGS - MEDIA AND OTHERS {{{
###############################################################################
# Other keyboard bindings, including media xf
###############################################################################

# Use wactl to adjust volume of WirePlumber
set $refresh_i3status killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id wpctl set-volume @DEFAULT_SINK@ 10%+ && $refresh_i3status
bindsym XF86AudioLowerVolume exec --no-startup-id wpctl set-volume @DEFAULT_SINK@ 10%- && $refresh_i3status
bindsym XF86AudioMute exec --no-startup-id wpctl set-mute @DEFAULT_SINK@ toggle && $refresh_i3status
bindsym XF86AudioMicMute exec --no-startup-id wpctl set-mute @DEFAULT_SOURCE@ toggle && $refresh_i3status

# Screen brightness controls
bindsym XF86MonBrightnessUp exec light -A 10 # increase screen brightness
bindsym XF86MonBrightnessDown exec light -U 10 # decrease screen brightness

# Touchpad controls
bindsym XF86TouchpadToggle exec /some/path/toggletouchpad.sh

# Media player controls
bindsym XF86AudioPlay exec playerctl play-pause

bindsym --release Print exec gnome-screenshot -i
# }}} 6. BINDINGS - MEDIA AND OTHERS

# 7. STYLE AND THEMING {{{
###############################################################################
# i3-gaps Appearance and Behavior
###############################################################################

# Specify the distance between windows in pixels. (i3-gaps)
gaps inner 10
gaps outer -4

# Only enable gaps on a workspace when there is at least one container
smart_gaps on

smart_borders on
font pango:monospace 8


# # set $bg-color 	         #2f343f
# set $bg-color 	         #00ff00
# set $inactive-bg-color   #2f343f
# set $text-color          #f3f4f5
# set $inactive-text-color #676E7D
# set $urgent-bg-color     #E53935
# # window colors
for_window [class="^.*"] border pixel 3
# #                       border              background         text                 indicator
# client.focused          #ff0000           $bg-color          $text-color          #00ff00
# client.unfocused        $iancative-bg-color $inactive-bg-color $inactive-text-color #00ff00
# client.focused_inactive $iancative-bg-color $inactive-bg-color $inactive-text-color #00ff00
# client.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          #00ff00


# Create variables from Xresources for i3's look.
set $focused.color.border  "#002b36"
set $focused.color.background  "#8ba1a7"
set $focused.color.text  "#fdf6e3"
set $focused.color.indicator  "#268bd2"
set $focused.color.child_border 

set $focused_inactive.color.border  "#002b36"
set $focused_inactive.color.background  "#073642"
set $focused_inactive.color.text  "#839496"
set $focused_inactive.color.indicator  "#073642"
set $focused_inactive.color.child_border 

set $unfocused.color.border  "#002b36"
set $unfocused.color.background  "#073642"
set $unfocused.color.text  "#839496"
set $unfocused.color.indicator  "#073642"
set $unfocused.color.child_border 

set $urgent.color.border  "#002b36"
set $urgent.color.background  "#dc322f"
set $urgent.color.text  "#fdf6e3"
set $urgent.color.indicator  "#002b36"
set $urgent.color.child_border 


# Window Border color
# class                 border                             background                         text                               indicator                          child_border
client.focused          $focused.color.border              $focused.color.background          $focused.color.text                $focused.color.indicator           $focused.color.child_border
client.focused_inactive $focused_inactive.color.border     $focused_inactive.color.background $focused_inactive.color.text       $focused_inactive.color.indicator  $focused_inactive.color.child_border
client.unfocused        $unfocused.color.border            $unfocused.color.background        $unfocused.color.text              $unfocused.color.indicator         $unfocused.color.child_border
client.urgent           $urgent.color.border               $urgent.color.background           $urgent.color.text                 $urgent.color.indicator            $urgent.color.child_border

# Theme colors
# class                   border  backgr. text    indic.   child_border
#  client.focused          #556064 #556064 #80FFF9 #FDF6E3
#  client.focused_inactive #2F3D44 #2F3D44 #AD69AF #454948
#  client.unfocused        #2F3D44 #2F3D44 #AD69AF #454948
#  client.urgent           #CB4B16 #FDF6E3 #AD69AF #268BD2
#  client.placeholder      #000000 #0c0c0c #ffffff #000000 
#
#  client.background       #000000

# Theme colors
# class                   border  backgr. text    indic.   child_border
#  client.focused          #FFFFFF #FFFFFF #FFFFFF #FFFFFF
#  client.focused_inactive #2F3D44 #2F3D44 #AD69AF #454948
#  client.unfocused        #2F3D44 #2F3D44 #AD69AF #454948
#  client.urgent           #CB4B16 #FDF6E3 #AD69AF #268BD2
#  client.placeholder      #000000 #0c0c0c #ffffff #000000 
#
#  client.background       #000000
# }}} 7. STYLE AND THEMING

# 8. AUTOSTARTED PROGRAMS {{{
###############################################################################
# Autostart Programs
###############################################################################

# Start the display compositor
# disabled until can figure out graphics problem
# exec_always picom --experimental-backend

# Start XDG autostart .desktop files using dex. See also
# https://wiki.archlinux.org/index.php/XDG_Autostart
exec --no-startup-id dex --autostart --environment i3

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- $HOME/.config/i3/scripts/blurlock.sh

# Start the polkit graphical authentication agent, assuming polkit-gnome installed
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

# ---------------------Bar and tray applets--------------------
exec_always --no-startup-id $HOME/.config/polybar/launch.sh

exec indicator-sound-switcher

# nm-applet provides auth dialogs to manage wired and wireless networks
exec --no-startup-id nm-applet

# ----------------------------Others---------------------------
# Set wallpaper using custom script
exec_always $HOME/.config/i3/scripts/setwallpaper.sh
# }}} 8. AUTOSTARTED PROGRAMS

